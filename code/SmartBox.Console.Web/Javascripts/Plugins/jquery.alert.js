(function(a){a.alerts={verticalOffset:-75,horizontalOffset:0,repositionOnResize:true,overlayOpacity:.5,overlayColor:"#FFF",draggable:true,okButton:"确定",cancelButton:"取消",dialogClass:null,alert:function(d,b,c){if(b==null)b="确认";a.alerts._show(b,d,null,"alert",function(a){c&&c(a)},null,null,null,null)},confirm:function(d,b,c){if(b==null)b="请确认";a.alerts._show(b,d,null,"confirm",function(a){c&&c(a)},null,null,null,null)},prompt:function(d,e,b,c){if(b==null)b="请填写";a.alerts._show(b,d,e,"prompt",function(a){c&&c(a)},null,null,null,null)},openBox:function(h,b,d,e,g,f,c){if(b==null)b="提示";a.alerts._show(b,h,null,"openBox",function(a){c&&c(a)},d,e,g,f)},overAlert:function(c,b){a.alerts._overShow(c,b)},_overShow:function(d,b){if(b==null)b=3e3;var c=b+600;a("body").append('<div id="over_container" style="display:none"><div id="over_message"></div></div>');a("#over_message").text(d).html(a("#over_message").text().replace(/\n/g,"<br />"));a.alerts.dialogClass&&a("#over_container").addClass(a.alerts.dialogClass);var e=a.browser.msie&&parseInt(a.browser.version)<=6?"absolute":"fixed";a("#over_container").css({position:e,zIndex:99999,width:350,padding:0,margin:0}).show("fast");a("#over_container").css({minWidth:a("#over_container").outerWidth(),maxWidth:a("#over_container").outerWidth()});a.alerts._overReposition();setTimeout(function(){a("#over_container").hide("fast")},b);setTimeout(function(){a("#over_container").remove()},c)},_overReposition:function(){var c=4,b=a(window).width()/2-a("#over_container").outerWidth()/2+a.alerts.horizontalOffset;if(c<0)c=0;if(b<0)b=0;if(a.browser.msie&&parseInt(a.browser.version)<=6)c=c+a(window).scrollTop();if(a.browser.msie&&parseInt(a.browser.version)<=6)b=b-175;a("#over_container").css({top:c+"px",left:b+"px"});a("#popup_overlay").height(a(document).height())},_show:function(l,e,g,c,b,h,d,f,i){a.alerts._hide();a.alerts._overlay("show");var j=a("#popup_container");if(j.length==0)a(document.body).append('<div id="popup_container" style="display:none"><h1 id="popup_title"></h1><em id="ctl"></em><em id="cbl"></em><em id="ctr"></em><em id="cbr"></em><span id="popup_close"></span><div id="popup_content"><div id="popup_message"></div></div></div>');else a("#popup_panel").remove();a.alerts.dialogClass&&!a("#popup_container").hasClass(a.alerts.dialogClass)&&a("#popup_container").addClass(a.alerts.dialogClass);var k=a.browser.msie&&parseInt(a.browser.version)<=6?"absolute":"fixed";a("#popup_container").css({position:k,zIndex:99999,padding:0,margin:0}).show();a("#popup_title").text(l);c&&a("#popup_content").addClass(c);c!="openBox"&&a("#popup_message").text(e).html(a("#popup_message").text().replace(/\n/g,"<br />"));a.alerts._reposition();a.alerts._maintainPosition(true);switch(c){case "alert":a("#popup_message").after('<div id="popup_panel"><input type="button" value="'+a.alerts.okButton+'" id="popup_ok" /></div>');a("#popup_ok").click(function(){a.alerts._hide();b(true)});a("#popup_ok").focus().keypress(function(b){(b.keyCode==13||b.keyCode==27)&&a("#popup_ok").trigger("click")});break;case "confirm":a("#popup_message").after('<div id="popup_panel"><input type="button" value="'+a.alerts.okButton+'" id="popup_ok" /> <input type="button" value="'+a.alerts.cancelButton+'" id="popup_cancel" /></div>');a("#popup_ok").click(function(){a.alerts._hide();b&&b(true)});a("#popup_cancel").click(function(){a.alerts._hide();b&&b(false)});a("#popup_ok").focus();a("#popup_ok, #popup_cancel").keypress(function(b){b.keyCode==13&&a("#popup_ok").trigger("click");b.keyCode==27&&a("#popup_cancel").trigger("click")});break;case "prompt":a("#popup_message").append('<br /><input type="text" size="30" id="popup_prompt" />').after('<div id="popup_panel"><input type="button" value="'+a.alerts.okButton+'" id="popup_ok" /> <input type="button" value="'+a.alerts.cancelButton+'" id="popup_cancel" /></div>');a("#popup_prompt").width(a("#popup_message").width()-10);a("#popup_ok").click(function(){var c=a("#popup_prompt").val();a.alerts._hide();b&&b(c)});a("#popup_cancel").click(function(){a.alerts._hide();b&&b(null)});a("#popup_prompt, #popup_ok, #popup_cancel").keypress(function(b){b.keyCode==13&&a("#popup_ok").trigger("click");b.keyCode==27&&a("#popup_cancel").trigger("click")});g&&a("#popup_prompt").val(g);a("#popup_prompt").focus().select();break;case "openBox":a("#popup_message").append(a(e).html());h&&a("#popup_container").css({width:h+"px"});if(d){a("#popup_container").css({height:d+"px"});a("#popup_message").css({height:d-48+"px"})}a.alerts._reposition();f&&a(f).click(function(){a.alerts._hide();b&&b(true)});i&&a(i).click(function(){a.alerts._hide();return false;b&&b(false)})}a("#popup_close").click(function(){a.alerts._hide();b&&b()});if(a.alerts.draggable)try{a("#popup_container").draggable({handle:a("#popup_title")});a("#popup_title").css({cursor:"move"})}catch(m){}},_hide:function(){a("#popup_container").hide();a.alerts._overlay("hide");a.alerts._maintainPosition(false)},_overlay:function(b){switch(b){case "show":a.alerts._overlay("hide");a("BODY").append('<div id="popup_overlay"></div>');a("#popup_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:a(document).height(),background:a.alerts.overlayColor,opacity:a.alerts.overlayOpacity});break;case "hide":a("#popup_overlay").remove()}},_reposition:function(){var b=document.documentElement.clientHeight/2-a("#popup_container").height()/2+a.alerts.verticalOffset,c=document.documentElement.clientWidth/2-a("#popup_container").width()/2+a.alerts.horizontalOffset;if(b<0)b=0;if(c<0)c=0;if(a.browser.msie&&parseInt(a.browser.version)<=6)b=b+a(window).scrollTop();a("#popup_container").css({top:b+"px",left:c+"px"});a("#popup_overlay").height(document.documentElement.clientHeight)},_maintainPosition:function(b){if(a.alerts.repositionOnResize)switch(b){case true:a(window).bind("resize",a.alerts._reposition);break;case false:a(window).unbind("resize",a.alerts._reposition)}}};hiAlert=function(b,c,d){a.alerts.alert(b,c,d)};hiConfirm=function(b,c,d){a.alerts.confirm(b,c,d)};hiPrompt=function(b,c,d,e){a.alerts.prompt(b,c,d,e)};hiBox=function(f,g,b,c,e,d,h){a.alerts.openBox(f,g,b,c,e,d,h)};hiOverAlert=function(c,b){a.alerts.overAlert(c,b)}})(jQuery);